# Default.User.yml
App\Model\User:
  type: entity
  repositoryClass: Default\UserRepository
  table: user
  schema: schema_name # The schema the table lies in, for platforms that support schemas (Optional, >= 2.5)
  readOnly: true
  indexes:
    name_index:
      columns: [ nick ]
  id:
    id:
      type: integer
      generator:
        strategy: AUTO
  fields:
    nick:
      type: string
      length: 30
    firstname:
      type: string
      length: 60
      column: firstname
      unique: false
      options:
        fixed: true
        comment: User's first name
    lastname:
      type: string
      length: 60
      column: lastname
      unique: false
      options:
        fixed: true
        comment: User's last name
    mail:
      type: string
      length: 128
      column: mail
      unique: true
      options:
        fixed: true
        comment: User's email address
    passvord:
      type: string
      column: pwd
      length: 255
      nullable: false
    active:
      type: boolean
      column: active
      nullable: false
  manyToMany:
    groups:
      targetEntity: Group
      joinTable:
        name: user_group
        joinColumns:
          user_id:
            referencedColumnName: id
        inverseJoinColumns:
          group_id:
            referencedColumnName: id
  lifecycleCallbacks:
    prePersist: [ doStuffOnPrePersist, doOtherStuffOnPrePersistToo ]
    postPersist: [ doStuffOnPostPersist ]